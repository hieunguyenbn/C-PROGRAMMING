Need to do:
1. Divide layer: Application, Lower layer
2. Use dynamic memory allocation for the array